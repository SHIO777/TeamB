<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>STEERING.html</title>
    <script type="text/javascript" src="/webiopi.js"></script>
    <link rel="stylesheet" type="text/css" href="adjustment_steering.css"> 
  </head>
  <body>
    <div align="center">
        <a href="menu.html" style="color:black;">menu</a><br>
        <h3>STEERING</h3>
        <tr>
          <td>
            <img src = "slider.png" alt="slider" id="pic"> 
            <table id="table">
              <tbody>
                <tr>
                    <th></th><th>最小値</th><th>中立値</th><th>最大値</th><th></th>
                </tr>
                <tr>
                    <td align="right">現在の値</td>
                    <td align="center"><span id="a1"></span></td>
                    <td align="center"><span id="a2"></span></td>
                    <td align="center"><span id="a3"></span></td>
                    <td><input type = "button" value="取得" id="c1" onclick="func11();func12();func13()"></td>
                </tr>
                <tr>
                    <td align="right">入力値</td>
                    <td align="center"><input type="number" min="1000" max="1499" id="b1"></td>
                    <td align="center"><input type="number" min="1000" max="2000" id="b2"></td>
                    <td align="center"><input type="number" min="1501" max="2000" id="b3"></td>
                </tr>
                <tr>
                    <td></td>
                    <td align="center"><input type="button" id="d1" value="送信" onclick="func21();func11()"></td>
                    <td align="center"><input type="button" id="d2" value="送信" onclick="func22();func12()"></td>
                    <td align="center"><input type="button" id="d3" value="送信" onclick="func23();func13()"></td>
                </tr>   
              </tbody>
            </table>
          </td>
        </tr>
    </div>
<script>
webiopi().ready(R1);

function R1(){
    webiopi().callMacro("Load11",1,Back11);
    webiopi().callMacro("Load12",1,Back12);
    webiopi().callMacro("Load13",1,Back13);
}

function func11(){
    var g1 = document.getElementById("a1");
    webiopi().callMacro("Load11",1, Back11);}
function Back11(macro,args,number){
    a1.innerHTML = number;}

function func12(){
    var g2 = document.getElementById("a2");
    webiopi().callMacro("Load12",1, Back12);}
function Back12(macro,args,number){
    a2.innerHTML = number;
    webiopi().callMacro("main11",1);
    webiopi().callMacro("GET1",0);
}

function func13(){
    var g3 = document.getElementById("a3");
    webiopi().callMacro("Load13",1, Back13);}
function Back13(macro,args,number){
    a3.innerHTML = number;}

function func21(){
    var h1 = document.getElementById("b1"); //min
    var i1 = h1.value;
    if (i1<1000){alert("最小値を1000以上にしてください");}
    else if(i1>2000){alert("最小値を2000以下にしてください");}
    else{
        webiopi().callMacro("Send21",i1);
        console.log(i1);
    }
}
function func22(){
    var h2 = document.getElementById("b2"); //neutral
    var i2 = h2.value;
    if (i2<1000){alert("中立値を1000以上にしてください");}
    else if(i2>2000){alert("中立値を2000以下にしてください");}
    else{
        webiopi().callMacro("Send22",i2);
        console.log("いいね");
    }
}

function func23(){
    var h3 = document.getElementById("b3"); //max
    var i3 = h3.value;
    if (i3<1000){alert("中立値を1000以上にしてください");}
    else if(i3>2000){alert("中立値を2000以下にしてください");}
    else{
        webiopi().callMacro("Send23",i3);
        console.log("いいね");
    }
}


</script>
  </body>
</html>



    